{% extends 'bootstrap3/bootstrap3.html' %}

{% load bootstrap3 %}

{% load static %}
{% block bootstrap3_extra_head %}
    <link rel="stylesheet" type="text/css" href="{% static 'barsys/style.css' %}"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
{% endblock %}

{% block bootstrap3_content %}

    <div class="container-fluid">
        <!-- sidebar -->
        <ul class="nav nav-pills nav-stacked col-xs-12 col-sm-4 col-md-3 text-center"
            style="margin-top: 10px; padding-right: 0;">
            {% block sidebar_content %}{% endblock %}
        </ul>

        <!-- main area -->
        <div class="col-xs-12 col-sm-8 col-md-9" style="padding-right: 0;">
            {% if messages %}
                <div style="margin-top: 10px;">
                    {% bootstrap_messages messages %}
                </div>
            {% endif %}
            {% block main_content %}{% endblock %}
        </div>
    </div>

    <a id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top">
        <span class="glyphicon glyphicon-chevron-up"></span></a>

    <script src="{% static 'barsys/fastclick.min.js' %}"></script>
    <script type="text/javascript">
        /* Activate fastclick.js, a workaround for old touch devices (e.g. iPad 1) that have a
         large delay (>300 ms) before a click event is fired */
        if ('addEventListener' in document) {
            document.addEventListener('DOMContentLoaded', function () {
                FastClick.attach(document.body);
            }, false);
        }</script>

{% endblock %}

{% block bootstrap3_extra_script %}
    <script type="text/javascript">
        $(document).ready(function () {
            $(window).scroll(function () {
                if ($(this).scrollTop() > 50) {
                    $('#back-to-top').fadeIn();
                } else {
                    $('#back-to-top').fadeOut();
                }
            });
            // scroll body to 0px on click
            $('#back-to-top').click(function () {
                $('#back-to-top').tooltip('hide');
                $('body,html').animate({
                    scrollTop: 0
                }, 800);
                return false;
            });

            $('#back-to-top').tooltip('show');

        });
    </script>

    {% block extra_js %}{% endblock %}
{% endblock %}